technical notes the oneclick installation the axis internet dynamic dns service rev 11 updated 20040601 1 f technical notes oneclick installation the axis internet dynamic dns service technical notes the oneclick installation the axis internet dynamic dns service rev 11 updated 20040601 2 f table of contents the main objective of the oneclick installation 3 technical description of the one click installati on procedure 3 publishing camera on the internet using the axis internet dynamic dns service5 broadband router 5 tcpip 5 tcpip ports 5 ip address 6 public ip address 7 local ipaddress 8 dns domain name system 9 domain name 10 url 11 dhcp 11 port forwarding 12 the axis internet dynamic dns service 15 technical description of the name publishing fu nction provided by the axis internet dynamic dns service 16 technical notes the oneclick installation the axis internet dynamic dns service rev 11 updated 20040601 3 f the main objective of the oneclick installation the objective of the oneclick installation is to help users install and access camera on local network lan from users perspective the only steps involved in oneclick installation are the following 1 press and release the control button on the back of the camera and wait for the green status led to light up 2 using web browser go to httpwwwaxiscamnet and enter the cameras serial number 3 access your camera using your web browser internet technical description of the oneclick installation procedure more technically the oneclick installation assigns name to the camera using the domain name system which is an integrated function of the tcpip protocol for more information about tcpip and the domain name system see the explanations later in this document the oneclick process can be described as follows 1 the camera receives an automatically assigned ip address from dhcp server 2 the camera reports its ip address and serial number to the axis internet dynamic dns service this service is free of charge and located on server hosted by axis 3 the axis internet dynamic dns service will temporarily register the cameras ip address and assign it unique name based on the serial number ie axis1a2 b3caxiscamnet where 1a2b3c are the last six characters in the serial number 4 the axis internet dynamic dns service then sends confirmation messa ge to the camera that it has been registered by the service 5 the status led on the camera will show steady green when the server confirms the registration 6 the camera is now temporarily registered in the axis internet dynamic dns service 7 the user must confirm that heshe accepts the camera registration from web browser go to httpwwwaxiscamnet and actively accept the camera registration technical notes the oneclick installation the axis internet dynamic dns service rev 11 updated 20040601 4 f 8 the final step for the user is to click on the camera link provided on the registration site and thereby access the camera using the assigned name note the oneclick installation method does not publish your camera on the internet outside your lan the axis internet dynamic dns service offers additional mechanisms for this as an added service after registration further details are provided below and at httpwwwaxiscamnet the same rules apply as for previous camera models if the camera has public ip address other parties that have access to the internet will have access to your camera if you use private ip address eg behind broadband routerfirewall only users on ur local network will be able to access your camera technical notes the oneclick installation the axis internet dynamic dns service rev 11 updated 20040601 5 f publishing camera on the internet using the axis internet dynamic dns service can the axis dynamic dns service help publish my camera on the internet my network consists of 2 computers and 1 axis 205 network camera all connected to broadband router with builtin switch yes the axis internet dynamic dns service offers an additional service that can help you with this but it will require some configuration of your broadband router to be able to publish your camera on the internet its best to be acquainted with the terms below broadband router this device has many different names natrouter internet gateway broadband sharing device or home firewall but the essential purpose of the device is the same broadband router allows users on small network to share single connection to the internet this is done by forwarding network traffic from inside the private network to the outside ie the public network the internet the router can be said to impersonate single user out to the internet and to impersonate the internet towards the inside as an added bonus the security on private network is increased since most broadband routers are preconfigured to stop any attempts to access the private network from the public networkinternet tcpip tcpip is the language protocol computers use to communicate on the internet and on most private networks if we compare this to the road system used for car traffic the cabling you use to connect your computer is the physical road and tcpip is the set of traffic rules used when driving everything you do on the internet email or web browsing uses tcpip for its transportation tcpip ports each service you use on the internet communicates using one or more specific port numbers your email program uses port number 25 to send email and port num ber 110 to receive email from your email server when you browse the internet port number 80 is used to send and receive web pages to continue the analogy with roads and traffic ports ca n be seen as lanes on the freeway where only specific vehicles are permitted to travel tcpip protocolport 80 outbound port 21 outbound port 110 outbound port 25 outbound port 80 inbound port 21 inbound port 110 inbound port 25 inbound technical notes the oneclick installation the axis internet dynamic dns service rev 11 updated 20040601 6 f ip address everything that is connected to tcpip network needs unique address an ip address if your own computer needs to get data from another computer it needs to know the ip address of the other computer in order to send request this is what happens when you browse the internet with requests to view web pages name resolution is an important part of this more inform ation about name resolution below an ip address can be compared to the address for house all that is needed for your computer to find the requested computer is included in the address itself you can use the following analogy when thinking about ipaddresses countrycitystreethouse number eg 2122478825 2325 there are two main ways of assigning an ip address manually or automatically automatic dynamic addresses are commonly assigned for limited time using method called dhcp more information about automatic ip addressing can be found later in this document technical notes the oneclick installation the axis internet dynamic dns service rev 11 updated 20040601 7 f public ip address public ip address is the only ip address that is recognized on the internet where the term internet refers to the global network the world wide web only devices with public addresses can enter the official road system and travel the main highways or traverse the traffic junctions routers that the internet is made up of so to simplify public ip addresses are addresses that ar allowed in the global address book of the internet the problem is that the number of public ip addresses available is quickly running out due to the enormous expansion of the internet global address book for ip addresses on the internet this lack of ip addresses is being solved by the ipv6 st andard which will provide plenty of ip addresses this will however involve massive reconstruction of the internet infrastructure requiring time and heavy investment so we will have to live with the limited number of ip addresses for the foreseeable future core rule anything that is published on the internet needs public ip address companies are handling this lack of pu blic ip addresses mainly by utilizin g the fact that the iana internet assigned numbers authority have defined specific ranges of ip addresses that are unofficial or private and which can be used freely on local networks this type of address cannot be accessed from the official road system and will be forced off road at the first traffic junction router technical notes the oneclick installation the axis internet dynamic dns service rev 11 updated 20040601 8 f local ipaddress local ip addresses can only be used internally on loca l network local ip addresses are commonly used to solve the problem of the lack of public ip addresses nd also to some extent for security purposes why give computer on lan local ip address does this mean that the computer cannot access the internet computer with local ip address cannot access the internet itself it can however access the internet via another computing device eg broadband router equipped with two network cards one for the inside local ip address and one for the outside public ip address this computer or device becomes gateway for the local network providing internet access to the computers on the inside the gateway only needs one public ip address but it can serve thousands of comp uters on the inside with internet access for reference it should be mentioned that this method is commonly known as natrouting and was developed by company named cisco the same company that supplied the equipment for most of the internet infrastructure core rule 1 private ip address cannot be accessed over the internet core rule 2 computer that has private address needs gateway accessing the internet as an impersonator address ranges defined as local by iana 10nnn class 17216nn to 17231nn class b 1921680n to 192168255n class c this range is commonly used by broadband routers technical notes the oneclick installation the axis internet dynamic dns service rev 11 updated 20040601 9 f dns domain name system although computers are good at using ip addresses contai ning only numbers humans are typically not as good number crunchers as computers and we prefer to use persons name instead of his or her social security number the domain name system dns provides solution to this problem the domain name system dns translates ip addresses into names making it easier for the user to remember the address of computer device dns is used for almost everything on the internet ie browsing for web pages or sendingreceiving mail dns is hierarchical database system that resides on name servers these servers may be local on your own network or remote on the internet the functionality is the same we will use practical example to explain how this is done in this example joes computer is connected to broadband router and has received an automatic ip address from with the dhcp server built in the router dhcp is explained below joe wants to access the web pages at axis communications so he enters the url webaddress httpwwwaxiscom in his web browser and presses enter the following happens simplified and from dns perspective 1 joes computer knows the ip address of the closest dns name server contained in the dchp package that joes computer received when he started it 2 joes computer asks the dns name server for the ip address of the computer called wwwaxiscom 3 the dns name server checks its records to see if they contain any information related to axis in this case they do not so it forwards the request to th next dns name server up in the dns hierarchy 4 the chain of requests continues until dns name server that has the requested information is contacted 5 the server that knows the ip address of wwwaxiscom responds with the corresponding ip address and this information is then forwarded ll the way back to the joes computer 6 joes computer receives the ip address for wwwaxiscom and forwards this to the web browser 7 the web browser sends request for the main web page to the wwwaxiscom server 8 the web page is displayed on the joes screen 9 dns in cooperation with tcpip has made one more user happy its worth noting that the whole process only takes frac tion of second always assuming the traffic flow is smooth and there are obstacles there are other ways name server can resolve names but the description above is sufficient for our purposes core rule dns is needed for translating ip addresses into understandable names technical notes the oneclick installation the axis internet dynamic dns service rev 11 updated 20040601 10 f domain name domain name is computer name or device name name is regarded as more user friendly than the average ip address as an example you probably recognize th domain names below but perhaps not the ip addresses they correspond to wwwaxiscom typical name wwwgooglecom search site wwwoxfordedu popular edu educational name encartamsncom web server that does not start with www wwwaxisse server located in sweden ftpaxiscom server that is used more for file transfer protocol ftp than web pages the example below shows the different parts typical domain name consists of pretenderaxiscommunicationsse 3rd level domain in this case referring to the actual name of the computer2nd level domain in this case referring to the name the company has registered1st level domain in this case referring to the country the computer is located in firstlevel domain the com edu and portions of these domain names are called the toplevel domain or firstlevel domain there are several hundred toplevel domain names including com edu gov mil net org and int as well as unique twole tter combinations for every country wwwaxisse secondlevel domain the secondlevel domain is often reference to company name product name or service offered third level domain the third level domain often refers to the actual name of the computer or to the services it offers for example server that is called www is probably web server server with mail as third level domain is most likely occupied with email handling theres nothing stopping addition levels of domain names 4th 5th and so on but the level of detail or precision increases with each added level to return to the analogy of street address as an ip address typical street address can be written using the same notation 100apollodrivema the house number compare with the 3rd level domainthe street name compare with 2nd level domainthe state or the abbreviation of it compare with 1st level domain technical notes the oneclick installation the axis internet dynamic dns service rev 11 updated 20040601 11 f url url uniform resource locator is an address that ur application knows how to handle it contains the protocol to use the dns name or the ip address of the computer to contact and the path to the requested document or file the most common type of url is used for addr essing specific web site on the internet see below for typical example of url httpwwwaxiscamnettermshtm protocol used to access the service http is part of the tcpip suitethe dns name of thecomputer that is to be accessedthe path to the document that is to be accessed dhcp the dynamic host configuration protocol dhcp is thod for automatically assigning ip addresses to devices on network the dhcp procedure simplified computer that is configured for automatic ip addressing receives an invitation to lease an ip address as soon as it is connected to local network dhcp server that is assigned to handle the automatic ip addressing on the network sends out this offer on corporate network the dhcp server is typically comp uter server in smaller network it is typically broadband router the computer accepts the offer and is thereby accepted as member of the tcpip network and can start sending and receiving information the local computer not only receives an ip address it also receives additional data for example about the nearest available name server and the default gateway for internet access on small networks this is the broadband router examples of typical usage for dhcp company with many users that travel has automati c dhcp ip addressing configured on all laptop computers to simplify ip addressing when they switch between networks the user does not need to change any parameters when connecting the laptop to new network an internet service provider isp implements dhcp with short lease time to limit the number of ip addresses needed this is possible since not all subs cribers are connected to the internet all the time broadband router has dhcp server to simplify ip addressing for users on the local network and dhcp client accepting automatic ip addresses on the public network internet technical notes the oneclick installation the axis internet dynamic dns service rev 11 updated 20040601 12 f port forwarding this explanation is intentionally limited to explaining the typical usage of port forwarding in the broadband sharing context port forwarding is essentially method for broadband ro uter to forward data traffic aimed for one port on its public network interface to computer or network camera on the local network interface to use practical example we have user with network camera who wants to publish it on the internet our user has the following equipment 1 axis 205 network camera 1 pc running windows 1 broadband router with builtin network switch the user also has an xdsl connection to the internet with an isp that has implemented dhcp for its subscribers which gives us the following network internet local network ip addresses 1921680xpublic network public ip address automatically assigned by isp dhcp typically the broadband router blocks incoming traffic but allows access to the internet outgoing traffic from the local network this is typical default configuration for broadband routers we need to direct all incoming requests that reach port 80 the public network interface of the broadband router so that these are forwarded to the cameras ip address on the local network 1 all addresses on the local network have been assigned using the broadband routers builtin dhcp server although practical for ip address assignment this is not good for our purposes since this means that the cameras ip address might change and we would lose contact with it the port forwarding would point to the wrong address we need to set fixed static ip address for the camera 2 we start by checking the broadband routers documen tation to find which ip address we can use for the camera the documentation says the router uses the ip address range1921680 2 through 1921680 35 for dhcp so we conclude that if we use an ip address above that range we wont be risking conflicts with other devices that receive automatic addresses from the dhcp server 3 we choose1921680 100 as fixed ip address for the camera 4 we set the ip address of the camera to 1921680100 using axis ip utility software for more information on how to obtain and use this pplication see the quic k installation guide 5 set other ip parameters in the camera using its builtin administration pages dns and default router are very important technical notes the oneclick installation the axis internet dynamic dns service rev 11 updated 20040601 13 f 6 consult the broadband routers manual for information on how to configure port forwarding eg dmz port mapping or internet publishing 7 start web browser and go to the routers builti n web pages log in to the routers configuration pages 8 find the menu item port forwarding or similar with table as illustrated below service name start port end port server ip address ftp 21 21 not configured http web 80 80 not configured not configured 9 we need to configure the http service as the camera sends its video over http we change the configuration to the following service name start port end port server ip address ftp 21 21 not configured http web 80 80 1921680100 not configured 10 save the configuration in the router and exit the configuration pages 11 the configuration is complete 12 any requests reaching the routers external ip address on port 80 will now be forwarded to the cameras ip address 1921680100 this means that anyone on the internet can view the video sent by the axis 205 network camera as long as they know the external ip address of the router note this method requires that user accessing the came ra over the internet know s the public ip address for the router however the routers public ip address will probably change at some point and not much can be done about this the axis internet dynamic dns service has solution for this which is presented later in this document technical notes the oneclick installation the axis internet dynamic dns service rev 11 updated 20040601 14 f links to port forwarding information for common broadband routers there are as many configuration methods for broadband routers as there are brands models consult the routers documentation for informat ion on how to enable port forwarding see below for links to port forwarding information for few of the more common brands note the location of these documents is subject to ch ange without notice axis communications provides these links as service only the inclusion of these links does not imply that axis communications endorses recommends or accepts any responsibility for the information presented by these sites port forwarding on the linksys cabledsl router httpwwwdslwebservercommainsbslinksysportforwardinghtml port forwarding on various netgear routers httpkbservernetgearcomkb_web_filesn101145asp port forwarding on various dlink routers httpsupportdlinkcomfaqsearch aspquestionport20forwarding port forwarding on an asante fr3000 dslcable router httpwwwdslwebservercommainsbsportforwardasantefr3000html technical notes the oneclick installation the axis internet dynamic dns service rev 11 updated 20040601 15 f the axis internet dynamic dns service how can axis dynamic dns service help publish my camera on the internet port forwarding must be properly set up before attempting to use this extended feature of the axis internet dynamic dns service unless you already have the camera set up with public ip address the axis internet dynamic dns service lets you use an external domain name associated with the outside interface of your router in addition to the name you have obtained for use on your internal network dual names are necessary as some broadband routers ca nnot handle outbound traffic from the local network to the public interface and then back again from user perspective the steps involved in publishing an axis 205 network camera on the internet are as follows 1 complete the oneclick installa tion procedure as described in th beginning of this document or set fixed ip address and the necessary network pa rameters in the camera as described in the port mapping example above note that you need to press the control button if you change the port number for the camera 2 set up port forwarding correctly in the broadband routerfirewall as described in the example on port mapping above 3 log in to the axis internet dynamic dns service httpwwwaxiscamnet perform your registration and accept that the routers external address can be used for access from the internet using name technical notes the oneclick installation the axis internet dynamic dns service rev 11 updated 20040601 16 f technical description of the name publishing function provided by the axis internet dynamic dns service the publishing function is closely linked to the oneclick installation method but does not use the cameras ip address the broadband routers external ip address is used instead as described earlier in the technical description of the oneclick installation the network camera sends information to the axis internet dynamic dns service when the control button on the camera is pressed this information is sent over http the protocol used by web servers and web browsers the information contained in the package is the cameras ip address the cameras firmware version the cameras serial number the cameras port number this information allows the service to assign domain na linked to the ip address to the camera it does not make it possible to assign public ip address to the came ra if it is located on private network eg behind firewall or broadband router the axis internet dynamic dns service utilizes the fact th at each data packet sent over tcpip contains the senders ip address at the start the packet compare this with physical parcel sent using the regular postal service where the recipients address as well as nders address is written on the parcel itself as only public addresses are accepted as senders on the internet the sender of the oneclick installation package will be the public address of the broadband router or firewall that put the package on the internet the procedure can be described as follows 1 the axis internet dynamic dns service receives the oneclick information package when the control button on the camera is pressed 2 the axis internet dynamic dns service temporarily registers the contents of this package ip address firmware version and serial number and assigns name for the camera based on the serial number 3 as parallel process the axis internet dyna mic dns server analyzes the sender of the package broadband routerfirewall thus discov ering the senders public ip address 4 the axis internet dynamic dns service registers th is additional information under separate domain name for the camera this name becomes the public domain name for the camera and allows other users on the internet to browse to it provided that port forwarding is correctly set up note that even if the camera contacts the axis internet dynamic dns service at regular intervals your isp may frequently change the ip address of your broadband router this might prevent the external naming part of the service from working properly there is way for the ca mera to know how often the external ip address of the router is changing note if you find that your internet service provider has very aggressive approach as regards the changing of ip addresses consult your manual and see if your broadband router has native support for any dynamic dns services and use this as an alternative solution