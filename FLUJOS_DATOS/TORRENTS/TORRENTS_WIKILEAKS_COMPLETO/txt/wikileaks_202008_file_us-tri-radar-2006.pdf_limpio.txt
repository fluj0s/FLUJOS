section 5 l3164pc temporal processing of millimeter wave flight test data may 2006 benjamin montalvo tony nguyen tony pla tt michael franklin karsten isaacson henry tzeng ray heimbach alan roll don brown william chen bae systems electronics integrated solutions 5140 west goldleaf circle angeles ca 900561268 abstract this paper describes work that was done to improve millimeterwave radar image by utilizing temporal processing on radar data collected during recent flight test program on the nasa aires aircraft these flight tests were part of the followon radar enhanced and synthetic vision integrated technology evaluation foresite project under the nasa aviation safety and security program avssp synthetic vision systems svs program analog radar if signals were digitized and the digital data output was recorded during the flight tests the digital data was replayed after the flight tests and number of samples were post processed using temporal processing algorithm with the intention of evaluating this temporal algorithm and assessing the computational requirement the images enhanced by temporal processing exhibit significant improvement in image quality proprietary information the information contained herein is propr ietary to bae systems and shall not be reproduced or disclosed in w hole or in part or used fo r any design or manufacture except when such user possesses direct written authorization from bae systems distribution statement c distribution authorized to us government agencies and their contractors other requests fo r this document shall be referred to bae systems note this information is not technical data per 22 cfr 120101 and can be exported without license in accordance with 22 cfr 120105 10 introduction flight test program was conducted during august and september of 2005 on the nasa aries test aircraft boeing 757200 figure 1 based at nasas langley research center the flight test area concentrated on the wallops island airfield off the nor theast virginia coast eight evaluation flights were made including two night flights in addition to seven demonstration flights including one practice demo flight for total of 15 flights the system under test fused imagery from 94 ghz imaging radar with the output from two infrared cameras and displayed the resulting image on head up display hud during tests number of low level approaches we re performed where an obstacle truck was deliberately placed at the end of the runway to determ ine whether the pilot would spot the return from the object in the fused radarir image on the hud with the objective of provid ing an intuitive visual incursion warning capability during the test program th raw radar data was recorded for future analysis and the evaluation of new processing tec hniques including temporal processing figure 1 bae systems 94 ghz radar systems flight test the nasa 757200 l3164pc 2 20 test system description figure 2 is simplified representation of the system architecture the 94ghz imaging radar was mounted in the nose radome the infrared sensors we re mounted in fairing on the underside of the aircraft output signals from the infrared sensors were processed though computer and sent to the enhanced synthetic image processor esip th esip provided radar processing which produced c scope millimeter wave image the millimeter wa ve image and an infrared sensor images were then fused mapped and warped together in the image processor module located inside the esip and sent to the head up display hud in the cockpit for presentation to the pilot the esip communicates with an external control computer via bidirectional rs422 communication links senor 94 ghz millimeter wave radar sensor long wave ir camera sensor sort wave ir cameraradar processor image processing card fusion blending crystal pcdvi to vga convertorvga to rs343 svs sensor computerpower monitor hud hgs4000 disk array storage raidesip analogif analogdiscrete control onoff discrete lpsd analog rs170 analog analog rs170dvi vga rs343 optical ethernet rs422 opticalwow gps time arinc 429 figure 2 enhanced vision system of nasa aries b757 architecture real time image processing was performed within the esip to provide imagery for the hud an example of the 94 ghz radar real time image pr oduced without temporal processing is shown in figure 3 the radars analog base band if signals we re digitized and recorded on disk array during the flight for the post flight temporal processing investigation l3164pc 3 figure 3 94 ghz radar real time runway image without temporal processing during the flight test august 2005 30 the temporal processing of flight test data 31 coordinate definition consider the forward looking radar installed in the aircraft nose as shown in figure 4 radar ref frame ground plane max rangenadir bcr footprint of main beamx z figure 4 imaging scene of millimeter wave radar l3164pc 4 the coordinate systems are defined as follows world earth centered earth fixed ecef frame xy plane is the equator plane with x axis crossing prime meridian z axis points to north pole b navigational north east down ned frame x axis points to north axis points to east and z axis points down centered with the aircraft center of mass the earth centered earth fixed ecef frame nd north east down ned frame is shown at figure 5 c aircraft body body frame x axis point forward out of the nose of the aircraft axis points to the right out of the right wing tip and z axis point down out of the belly of the aircraft centered with the aircraft center of mass d local level level body frame coincidental with the aircraft body frame and z axis aligned with the gravity vector z xprime meridian equatorxned yned zned figure 5 earth centered earth fixed ecef frame in red color and north east down ned frame in blue color l3164pc 5 x z figure 6 aircraft body frame and local body frame radar installation radar frame fixed w ith respect to the aircraft body frame with its origin at the radar servo swivel point relation between the aircraft body frame and radar installation frame is characterized by translation and rotation f radar image image frame coincidental with the radar installation frame when the radar antenna is pointing at zero degrees in elevation this frame rotates with the antenna in elevation the axis is identical to the radar installation frame mechanical azimuth rotations of the antenna are performed about z axis of this frame 32 algorithm description 321 unit vector definition consider normal vector to the local level and ground plane 100 leveln transform this normal vector of local level frame to the radar image frame agenimtransform level frame to radar image frame elevationerollrpitchpnlevel define the local level frame origin as 0 0 0 level levelorgp transform the local level frame origin point to point in the image frame transform level to image age levelorgpim elevationerollrpitchpplevel levelorg the normalized unit vector is written as im im im age levelorgage agepn normalizen l3164pc 6 322 point to point distance the distance from radar image frame original to the point at ground plane is calculated as uageinitial znheightd im where is unit z vector in the image frame 100 uz dot product operator the point at image frame is np initialage n dnp im assume the radar scan at selected nine azimuth ngle ie the azimuth values shift nine times the shift value is account for the incremental computation from point one to point nine in order to calculate the distance from the point at image frame to the point perpendicular to earth surface lets define the vectors 100 0 cos azshifthazimutazshifthazimut rii where azimuth i initial azimuth angle azshift incremental azimuth angle is cross product operator and imrn normalizeqage the perpendicular distance from image frame or igin point to the point of earth surface is n perpend pq d the distance from imaging point to the point perpendicular to earth surface npperpendp 22 1 _ perpend perpendpn dd d if εperpenddd1 where ε 00001 0 otherwise the distance from the points and instantaneous maximum imaging point is perpendpmaxtantinsp 22 maxtan_ perpend tins perpend d maxrangeinst d l3164pc 7 and distance between the initial image points and instantaneous maximum imaging point can be written as np maxtantinsp if the antenna depression angle is negative otherwise maxtan_ _ maxtan_ tins perpend perpendpn tinspn d d d maxtan_ _ tins perpend perpendpn d d the fundamental point to point relationship is shown at figure 7 below radar image frame ground plane bdperpendr xy z pndinitial instantaneous max imaging lineinstantaneous slant range figure 7 pointtopoint distance relationship 323 range compensation and texture image construction if we walk the line from to step by step the incremental step distance is defined as npmaxtantinsp rangebinddtinspn maxtan_ where rangebin is the number of range bins assumed at the processing stage range compensation is performed at each 2dpoint for display gain adjustment compensation look up table is preestablished fro m an empirical result the first compensation point is expressed as l3164pc 8 21_dqp pn tion stcompensan each range profile has its own gain value after range compensation at each point it is written as 1 1_ 0 1 i pe lookuprangle rangeprofition stcompensan i range profile gain value is interpolated between the values of the two neighboring profile bins if the is not an integer ution rangeresol ption stcompensan 1_ based at our azimuth scan angle from xy degr ees to xy degrees we construct the n images which is equal to the ramp duration of transm itting wave the formation of the ground patch for image rending is shown in figure 8 the return data in the imaging frame is transformed from image frame coordinates to the local level ned and ecef frames each ground pa tch layer represents one radar scan cycle during each rendering cycle the pilots current design eye position is used as the viewing position for rendering and the orientation of the viewport is adjusted to match the aircraft attitude the previously processed ground refe renced textures are then rendered onto ground plane positioned at the airfield altitude multiple textures are available for each ground cation and these are blended together during the rendering process to reduce the noise in the images presented to the pilot the rendering process is shown in figure 9 l3164pc 9 figure 8 ground patch construction for image rendering fast processradar input texture at ecef coord transformcamera position nav datagraphic generation frame buffer rendering n layer blendingvideo output figure 9 video process of n layers image rendering l3164pc 10 33 processing results the flight test data was processed off line usi ng the algorithm described above the resulting images show that the temporal processing has reduced the image noise and improved the runway image figure 10a and figure 10b show comparison in performance between unprocessed and processed images for the same view of runway from an approaching aircraft figure 10a unprocessed radar image figure 10b temporally processed radar image l3164pc 11 figure 11 through figure 15 are series of pictur which show the imag generated as the aircraft overflies the runway and are displa yed as cscope projections and corresponding birdseye view image figure 11 runway image on approach after temporal processing l3164pc 12 figure 12 runway image on approach after temporal processing l3164pc 13 figure 13 runway image on approach after temporal processing l3164pc 14 figure 14 runway image on approach after temporal processing l3164pc 15 figure 15 runway image on approach after temporal processing l3164pc 16